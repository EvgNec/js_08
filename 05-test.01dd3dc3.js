!function(){var e=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Stringify error",e.message)}},t=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},n="TODO",r=0,a=document.getElementById("myInput"),o=document.getElementById("myUL");function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{text:e,isDone:t,id:r}}function i(e){var t=document.createElement("span"),n=document.createTextNode("Ã—");t.className="close",t.appendChild(n),e.appendChild(t)}var c=document.getElementById("addBtn"),s=document.getElementById("myUL");c.addEventListener("click",(function(){var c=a.value.trim();a.value="",""!==c?(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,a=document.createElement("li");a.textContent=e,a.dataset.id=n,t&&a.classList.add("checked");o.appendChild(a),i(a)}(c),function(a,o){var i=t(n);if(console.log("currentState",i),void 0===i){var c=[];c.push(d(a,o)),e(n,c)}else i.push(d(a,o)),e(n,i);r+=1}(c)):alert("Please enter text")})),s.addEventListener("click",(function(r){var a=r.target,o=t(n);if("LI"===a.nodeName){a.classList.toggle("checked");var d=o.findIndex((function(e){return Number(e.id)===Number(a.dataset.id)}));o[d].isDone=!o[d].isDone}else if(a.classList.contains("close")){a.parentNode.remove();var i=o.findIndex((function(e){return Number(e.id)===Number(a.parentNode.dataset.id)}));o.splice(i,1)}e(n,o)}))}();
//# sourceMappingURL=05-test.01dd3dc3.js.map
