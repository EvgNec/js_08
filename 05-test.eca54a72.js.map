{"mappings":"YAAO,IAAMA,EAAO,SAACC,EAAKC,GACtB,IACI,IAAMC,EAAOC,KAAKC,UAAUH,GAC5BI,aAAaC,QAAQN,EAAKE,E,CAC5B,MAAOK,GACLC,QAAQC,MAAM,kBAAmBF,EAAIG,Q,GAKhCC,EAAO,SAACX,GACf,IACF,IAAME,EAAOG,aAAaO,QAAQZ,GAClC,OAAgB,OAATE,OAAgBW,EAAYV,KAAKW,MAAMZ,E,CAC9C,MAAOO,GACPD,QAAQC,MAAM,oBAAqBA,EAAMC,Q,GCdvCK,EAAQ,OACNC,EAAY,EACdC,EAAUC,SAASC,eAAe,WAClCC,EAAOF,SAASC,eAAe,QA2BrC,SAASE,EAAcC,G,IAAMC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,IAAcA,UAAA,GACzC,MAAO,CACLF,OACAC,SACAG,GAAIV,E,CCjCR,IAAMW,EAAST,SAASC,eAAe,UACjCS,EAAOV,SAASC,eAAe,QAGrCQ,EAAOE,iBAAiB,SDAxB,WACE,IAUgBP,EACVQ,EA0CgBC,EAChBC,EACAC,EAvDAC,EAAOjB,EAAQhB,MAAMkC,OAC3BlB,EAAQhB,MAAQ,GACH,KAATiC,GAQYZ,EAJPY,GAKHJ,EAAOZ,SAASkB,cAAc,OAC/BC,YAAcf,EACnBF,EAAKkB,YAAYR,GAwCKC,EAvCPD,EAwCTE,EAAOd,SAASkB,cAAc,QAC9BH,EAAMf,SAASqB,eAAe,KACpCP,EAAKQ,UAAY,QACjBR,EAAKM,YAAYL,GACjBF,EAAOO,YAAYN,GA1BrB,SAA+BV,EAAMC,GACnC,IAAMkB,EAAe9B,EAAKI,GAE1B,GADAP,QAAQkC,IAAI,eAAgBD,QACP5B,IAAjB4B,EAA4B,CAEQ,IAAhCE,EAAM,GACZA,EAAIC,KAAKvB,EAAcC,EAAMC,IAC7BxB,EAAKgB,EAAO4B,E,MAIZF,EAAaI,SAAQ,SAAAC,GAEnBA,EAAGpB,IAAMV,IAAYA,EAAY8B,EAAGpB,GAAK,E,IAE3Ce,EAAaG,KAAKvB,EAAcC,EAAMC,IACtCxB,EAAKgB,EAAO0B,E,CAzCdM,CAAsBb,GAAM,IAJ1Bc,MAAM,oB,ICHVpB,EAAKC,iBAAiB,SDgBtB,SAA6BoB,G,IAAAlB,EAAAkB,EAAElB,OACL,OAApBA,EAAOmB,SACTnB,EAAOoB,UAAUC,OAAO,WACfrB,EAAOoB,UAAUE,SAAS,UACnCtB,EAAOuB,WAAWC,Q","sources":["src/js/test/05-ls.js","src/js/test/05-func.js","src/js/test/05-test.js"],"sourcesContent":["export const save = (key, value) => {\n    try {\n        const data = JSON.stringify(value);\n        localStorage.setItem(key, data);\n    } catch (err) { \n        console.error(\"Stringify error\", err.message);\n    }\n\n }\n\nexport const load = (key) => { \n      try {\n    const data = localStorage.getItem(key);\n    return data === null ? undefined : JSON.parse(data);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}","import { save, load } from './05-ls.js';\nconst keyLS = 'TODO';\n    let currentID = 0;\nconst myInput = document.getElementById('myInput');\nconst myUL = document.getElementById('myUL');\n\nfunction addNewTasks() {\n  const task = myInput.value.trim();\n  myInput.value = '';\n  if (task === '') {\n    alert('Please enter text');\n    return;\n  }\n  createLi(task);\n  addTaskToLocalStorage(task, true);\n}\n\nfunction createLi(text) {\n  const liEl = document.createElement('li');\n  liEl.textContent = text;\n  myUL.appendChild(liEl);\n  addCloseButton(liEl);\n}\nfunction handleTaskBehaviour({ target }) {\n  if (target.nodeName === 'LI') {\n    target.classList.toggle('checked');\n  } else if (target.classList.contains('close')) {\n    target.parentNode.remove();\n  }\n}\n\nfunction createTaskObj(text, isDone = false) {\n  return {\n    text,\n    isDone,\n    id: currentID,\n  };\n}\n\nfunction addTaskToLocalStorage(text, isDone) {\n  const currentState = load(keyLS);\n  console.log('currentState', currentState);\n  if (currentState === undefined) {\n    // створюємо масив і додаємо туди перший обєект\n    const arr = [];\n    arr.push(createTaskObj(text, isDone));\n    save(keyLS, arr);\n  } else {\n    //до існуючого додати новий обєект\n\n    currentState.forEach(el =>\n    {\n      el.id >= currentID ? currentID = el.id + 1 : currentID = currentID;\n    });\n    currentState.push(createTaskObj(text, isDone));\n    save(keyLS, currentState);\n\n  }\n}\n\nfunction addCloseButton(target) {\n  const span = document.createElement('span');\n  const txt = document.createTextNode('\\u00D7');\n  span.className = 'close';\n  span.appendChild(txt);\n  target.appendChild(span);\n}\n\nexport { addNewTasks, handleTaskBehaviour };\n","import { addNewTasks, handleTaskBehaviour } from './05-func';\n\nconst addBtn = document.getElementById('addBtn');\nconst myUL = document.getElementById('myUL');\n\n\naddBtn.addEventListener('click', addNewTasks);\nmyUL.addEventListener('click', handleTaskBehaviour);"],"names":["$65da1f63ca4db6b8$export$a1544dad697b423d","key","value","data","JSON","stringify","localStorage","setItem","err","console","error","message","$65da1f63ca4db6b8$export$11e63f7b0f3d9900","getItem","undefined","parse","$1f3bb5368ae5b6b7$var$keyLS","$1f3bb5368ae5b6b7$var$currentID","$1f3bb5368ae5b6b7$var$myInput","document","getElementById","$1f3bb5368ae5b6b7$var$myUL","$1f3bb5368ae5b6b7$var$createTaskObj","text","isDone","arguments","length","id","$e01514e66c25ecca$var$addBtn","$e01514e66c25ecca$var$myUL","addEventListener","liEl","target","span","txt","task","trim","createElement","textContent","appendChild","createTextNode","className","currentState","log","arr","push","forEach","el","$1f3bb5368ae5b6b7$var$addTaskToLocalStorage","alert","param","nodeName","classList","toggle","contains","parentNode","remove"],"version":3,"file":"05-test.eca54a72.js.map"}