{"mappings":"YAAO,IAAMA,EAAO,SAACC,EAAKC,GACtB,IACI,IAAMC,EAAOC,KAAKC,UAAUH,GAC5BI,aAAaC,QAAQN,EAAKE,E,CAC5B,MAAOK,GACLC,QAAQC,MAAM,kBAAmBF,EAAIG,Q,GAKhCC,EAAO,SAACX,GACf,IACF,IAAME,EAAOG,aAAaO,QAAQZ,GAClC,OAAgB,OAATE,OAAgBW,EAAYV,KAAKW,MAAMZ,E,CAC9C,MAAOO,GACPD,QAAQC,MAAM,oBAAqBA,EAAMC,Q,GCdvCK,EAAQ,OACVC,EAAY,EACVC,EAAUC,SAASC,eAAe,WAClCC,EAAOF,SAASC,eAAe,QAarC,SAASE,EAASC,G,IAAMC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,IAAcA,UAAA,GAAEE,EAAAF,UAAAC,OAAA,YAAAD,UAAA,GAAcA,UAAA,GAATR,EACrCW,EAAOT,SAASU,cAAc,MACpCD,EAAKE,YAAcP,EACnBK,EAAKG,QAAQJ,GAAKA,EACdH,GACFI,EAAKI,UAAUC,IAAI,WAErBZ,EAAKa,YAAYN,GACjBO,EAAeP,E,CAmBjB,SAASQ,EAAcb,G,IAAMC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,IAAcA,UAAA,GACzC,MAAO,CACLF,OACAC,SACAG,GAAIV,E,CAiBR,SAASkB,EAAeE,GACtB,IAAMC,EAAOnB,SAASU,cAAc,QAC9BU,EAAMpB,SAASqB,eAAe,KACpCF,EAAKG,UAAY,QACjBH,EAAKJ,YAAYK,GACjBF,EAAOH,YAAYI,E,CCpErB,IAAMI,EAASvB,SAASC,eAAe,UACjCuB,EAAOxB,SAASC,eAAe,QAEpCsB,EAAOE,iBAAiB,SDCzB,WACE,IAAMC,EAAO3B,EAAQhB,MAAM4C,OACd,KAATD,GAIJvB,EAASuB,GACT3B,EAAQhB,MAAQ,GAuClB,SAA+BqB,EAAMC,GACnC,IAAMuB,EAAenC,EAAKI,GAC1B,QAAqBF,IAAjBiC,EAA4B,CAC9B,IAAMC,EAAM,GACZA,EAAIC,KAAKb,EAAcb,EAAMC,IAC7BxB,EAAKgB,EAAOgC,E,MAEZD,EAAaE,KAAKb,EAAcb,EAAMC,IACtCxB,EAAKgB,EAAO+B,GAEd9B,GAAa,C,CAhDbiC,CAAsBL,IALpBM,MAAM,e,ICHVR,EAAKC,iBAAiB,SDsBtB,SAA6BQ,G,IAAAf,EAAAe,EAAEf,OACvBU,EAAenC,EAAKI,GACrBqB,EAAOgB,SAAW,KACrBhB,EAAOL,UAAUsB,OAAO,WACxB,IAAMC,EAAYR,EAAaS,WAC7B,SAAAX,G,OAAQY,OAAOZ,EAAKlB,MAAQ8B,OAAOpB,EAAON,QAAQJ,G,IACpDoB,EAAaQ,GAAW/B,QAAUuB,EAAaQ,GAAW/B,OAO1DxB,EAAKgB,EAAO+B,E,IClChBW,OAAOd,iBAAiB,oBDkExB,WACE,IAAMG,EAAenC,EAAKI,QACLF,IAAjBiC,GACFA,EAAaY,SAAQ,SAAAP,G,IAAG7B,EAAI6B,EAAJ7B,KAAMC,EAAM4B,EAAN5B,OAAQG,EAAEyB,EAAFzB,GAC9BL,EAASC,EAAMC,EAAQG,GAC7BV,EAAYU,EAAG,C","sources":["src/js/test_page/local_storage.js","src/js/test_page/function.js","src/js/test_page/to_do.js"],"sourcesContent":["export const save = (key, value) => {\n    try {\n        const data = JSON.stringify(value);\n        localStorage.setItem(key, data);\n    } catch (err) { \n        console.error(\"Stringify error\", err.message);\n    }\n\n }\n\nexport const load = (key) => { \n      try {\n    const data = localStorage.getItem(key);\n    return data === null ? undefined : JSON.parse(data);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}","import { save, load } from './local_storage';\nconst keyLS = 'TODO';\nlet currentID = 0;\nconst myInput = document.getElementById('myInput');\nconst myUL = document.getElementById('myUL');\n\nfunction addNewTasks() {\n  const task = myInput.value.trim();\n  if (task === '') {\n    alert('Please enter');\n    return;\n  }\n  createLi(task);\n  myInput.value = '';\n  addTaskToLocalStorage(task);\n}\n\nfunction createLi(text, isDone = false, id = currentID) {\n  const liEl = document.createElement('li');\n  liEl.textContent = text;\n  liEl.dataset.id = id;\n  if (isDone) {\n    liEl.classList.add('checked');\n  }\n  myUL.appendChild(liEl);\n  addCloseButton(liEl);\n}\n\nfunction handleTaskBehaviour({ target }) {\n  const currentState = load(keyLS);\n  if ((target.nodeName = 'LI')) {\n    target.classList.toggle('checked');\n    const taskIndex = currentState.findIndex(\n      task => Number(task.id) === Number(target.dataset.id));\n    currentState[taskIndex].isDone = !currentState[taskIndex].isDone;\n  } else if (target.classList.contains('close')) {\n    target.parentNode.remove();\n     const taskIndex =\n      currentState.findIndex(task => Number(task.id) === Number(target.parentNode.dataset.id))\n    currentState.splice(taskIndex, 1);\n  }\n    save(keyLS, currentState);\n}\n\nfunction createTaskObj(text, isDone = false) {\n  return {\n    text,\n    isDone,\n    id: currentID,\n  };\n}\n\nfunction addTaskToLocalStorage(text, isDone) {\n  const currentState = load(keyLS);\n  if (currentState === undefined) {\n    const arr = [];\n    arr.push(createTaskObj(text, isDone));\n    save(keyLS, arr);\n  } else {\n    currentState.push(createTaskObj(text, isDone));\n    save(keyLS, currentState);\n  }\n  currentID += 1;\n}\n\nfunction addCloseButton(target) {\n  const span = document.createElement('span');\n  const txt = document.createTextNode('\\u00D7');\n  span.className = 'close';\n  span.appendChild(txt);\n  target.appendChild(span);\n}\n\nfunction fillTaskList() {\n  const currentState = load(keyLS);\n  if (currentState !== undefined) {\n    currentState.forEach(({ text, isDone, id }) => {\n            createLi(text, isDone, id);\n      currentID = id+1;\n    });\n  }\n\n}\n\nexport { addNewTasks, handleTaskBehaviour, fillTaskList };\n","import { addNewTasks, handleTaskBehaviour, fillTaskList } from './function';\n\nconst addBtn = document.getElementById('addBtn');\nconst myUL = document.getElementById('myUL');\n\n addBtn.addEventListener('click', addNewTasks);\nmyUL.addEventListener('click', handleTaskBehaviour);\nwindow.addEventListener('DOMContentLoaded', fillTaskList);"],"names":["$43ee3cd614fde96d$export$a1544dad697b423d","key","value","data","JSON","stringify","localStorage","setItem","err","console","error","message","$43ee3cd614fde96d$export$11e63f7b0f3d9900","getItem","undefined","parse","$b220961d16855fcc$var$keyLS","$b220961d16855fcc$var$currentID","$b220961d16855fcc$var$myInput","document","getElementById","$b220961d16855fcc$var$myUL","$b220961d16855fcc$var$createLi","text","isDone","arguments","length","id","liEl","createElement","textContent","dataset","classList","add","appendChild","$b220961d16855fcc$var$addCloseButton","$b220961d16855fcc$var$createTaskObj","target","span","txt","createTextNode","className","$f94404f58bf56485$var$addBtn","$f94404f58bf56485$var$myUL","addEventListener","task","trim","currentState","arr","push","$b220961d16855fcc$var$addTaskToLocalStorage","alert","param","nodeName","toggle","taskIndex","findIndex","Number","window","forEach"],"version":3,"file":"test.a8ae0b71.js.map"}